(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{2647:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,2619,23)),Promise.resolve().then(n.t.bind(n,5442,23)),Promise.resolve().then(n.t.bind(n,8906,23)),Promise.resolve().then(n.t.bind(n,3673,23)),Promise.resolve().then(n.bind(n,4665)),Promise.resolve().then(n.bind(n,6022)),Promise.resolve().then(n.bind(n,5131))},3673:()=>{},4585:(e,t,n)=>{"use strict";n.d(t,{Cy:()=>d,Lf:()=>m});var a=n(2078),r=n(2553),s=n(9708);n(9996);let i=null,l=null,o=!1,c={NEXT_PUBLIC_FIREBASE_API_KEY:"AIzaSyBVxbbtB8yqSycBKbVs4HpORCc69nexI8c",NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN:"glyph-hub-5000.firebaseapp.com",NEXT_PUBLIC_FIREBASE_PROJECT_ID:"glyph-hub-5000",NEXT_PUBLIC_FIREBASE_APP_ID:"1:58219751174:web:18337f5441f6cf1f06a087"};function u(){return Object.entries(c).filter(e=>{let[,t]=e;return!t}).map(e=>{let[t]=e;return t})}function h(){return i||(0!==u().length?(o||(o=!0,console.warn("[firebase] Missing Firebase env vars. Add web/.env.local with NEXT_PUBLIC_ keys. Missing:",u())),null):i=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)({apiKey:"AIzaSyBVxbbtB8yqSycBKbVs4HpORCc69nexI8c",authDomain:"glyph-hub-5000.firebaseapp.com",projectId:"glyph-hub-5000",storageBucket:"glyph-hub-5000.firebasestorage.app",messagingSenderId:"58219751174",appId:"1:58219751174:web:18337f5441f6cf1f06a087",measurementId:"G-N4T4Z5ZTL6"}))}function d(){let e=h();if(!e)return null;if(l)return l;try{l=(0,r.xI)(e)}catch(t){l=(0,r.Nu)(e,{persistence:[r.Gt,r.F0,r.iM]})}return l}function m(){let e=h();if(!e)return null;try{return(0,s._A)(e,{localCache:(0,s.vK)({tabManager:(0,s.K7)()})})}catch(t){return(0,s.aU)(e)}}},4665:(e,t,n)=>{"use strict";n.d(t,{AuthInit:()=>o});var a=n(5155),r=n(2115),s=n(4585),i=n(2553);function l(){return(0,r.useEffect)(()=>{try{let e=document.documentElement,t=localStorage.getItem("theme"),n=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;e.classList.toggle("dark",!!("dark"===t||(!t||"system"===t)&&n))}catch(e){}},[]),null}function o(){return(0,r.useEffect)(()=>{let e=(0,s.Cy)();e?(0,i.oM)(e,i.F0).catch(e=>{console.debug("[auth] setPersistence failed (ok in some browsers)",e)}):console.warn("[auth] AuthInit: no auth instance available")},[]),(0,a.jsx)(l,{})}},5131:(e,t,n)=>{"use strict";n.d(t,{NavLinks:()=>l});var a=n(5155),r=n(4585),s=n(2619),i=n.n(s);function l(){var e;let t=null==(e=(0,r.Cy)())?void 0:e.currentUser;return(0,a.jsx)("div",{className:"flex items-center gap-2",children:t&&(0,a.jsx)(i(),{href:"/collections",className:"inline-flex items-center h-6 text-sm text-[var(--gh-text-muted)] hover:text-[var(--gh-cyan)]",children:"Collections"})})}},5442:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_f367f3",variable:"__variable_f367f3"}},6022:(e,t,n)=>{"use strict";n.d(t,{AuthMenu:()=>o});var a=n(5155),r=n(2115),s=n(4585),i=n(2553),l=n(7886);function o(){let[e,t]=(0,r.useState)(null),[n,o]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{let e=(0,s.Cy)();if(!e)return void console.warn("[auth] No Firebase auth instance; check env config");t(e.currentUser);let n=(0,i.iZ)(e,e=>{t(e)});return()=>n()},[]),!e)return(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("a",{href:"/login",className:"inline-flex items-center h-6 text-sm text-[var(--gh-text-muted)] hover:text-[var(--gh-cyan)]",children:"Sign in"})});let c=e.displayName||e.email||"Account";return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{onClick:()=>o(e=>!e),"aria-haspopup":"menu","aria-expanded":n,className:"inline-flex items-center h-6 text-sm text-[var(--gh-text-muted)] hover:text-[var(--gh-cyan)] bg-transparent p-0 border-0",children:c}),n&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-44 rounded-[10px] border border-[var(--gh-border)] bg-[var(--gh-surface)] shadow-[var(--gh-shadow-2)] py-1",role:"menu",onMouseLeave:()=>o(!1),children:[(0,a.jsx)("a",{href:"/profile/".concat(e.uid),className:"block px-3 py-2 text-sm text-[var(--gh-text-muted)] hover:text-[var(--gh-cyan)]",role:"menuitem",onClick:()=>o(!1),children:"Profile"}),(0,a.jsx)("button",{onClick:()=>{o(!1),(0,l.CI)()},className:"block w-full text-left px-3 py-2 text-sm text-[var(--gh-text-muted)] hover:text-[var(--gh-cyan)]",role:"menuitem",children:"Sign out"})]})]})}},7886:(e,t,n)=>{"use strict";n.d(t,{CI:()=>c,NE:()=>l,mu:()=>o});var a=n(4585),r=n(2553),s=n(9708);async function i(e){let t=(0,a.Lf)();if(!t)return;let n=(0,s.H9)(t,"users",e.uid);(await (0,s.x7)(n)).exists()||await (0,s.BN)(n,{displayName:e.displayName||"",photoURL:e.photoURL||"",emailLower:(e.email||"").toLowerCase(),bio:"",createdAt:(0,s.O5)(),promptCount:0,likeCount:0})}async function l(e,t){let n=(0,a.Cy)();if(!n)throw console.warn("[auth] registerWithEmailPassword: no auth instance; possibly missing env"),Error("Firebase is not configured. Add .env.local");let s=await (0,r.eJ)(n,e,t);return await i(s.user),s.user}async function o(e,t){let n=(0,a.Cy)();if(!n)throw console.warn("[auth] signInWithEmailPassword: no auth instance; possibly missing env"),Error("Firebase is not configured. Add .env.local");let s=await (0,r.x9)(n,e,t);return await i(s.user),s.user}async function c(){let e=(0,a.Cy)();if(!e)return void console.debug("[auth] signOut: no auth instance; ignoring");await (0,r.CI)(e)}},8906:e=>{e.exports={style:{fontFamily:"'Rajdhani', 'Rajdhani Fallback'",fontStyle:"normal"},className:"__className_c36492",variable:"__variable_c36492"}}},e=>{e.O(0,[794,135,965,31,619,441,255,358],()=>e(e.s=2647)),_N_E=e.O()}]);