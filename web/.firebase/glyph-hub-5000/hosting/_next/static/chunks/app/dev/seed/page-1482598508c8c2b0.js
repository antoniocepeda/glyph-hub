(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[382],{4585:(e,t,l)=>{"use strict";l.d(t,{Cy:()=>h,Lf:()=>b,c7:()=>m});var a=l(2078),r=l(2553),s=l(9708),n=l(9996);let i=null,c=null,o=!1,u={NEXT_PUBLIC_FIREBASE_API_KEY:"AIzaSyBVxbbtB8yqSycBKbVs4HpORCc69nexI8c",NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN:"glyph-hub-5000.firebaseapp.com",NEXT_PUBLIC_FIREBASE_PROJECT_ID:"glyph-hub-5000",NEXT_PUBLIC_FIREBASE_APP_ID:"1:58219751174:web:18337f5441f6cf1f06a087"};function d(){return Object.entries(u).filter(e=>{let[,t]=e;return!t}).map(e=>{let[t]=e;return t})}function p(){return i||(0!==d().length?(o||(o=!0,console.warn("[firebase] Missing Firebase env vars. Add web/.env.local with NEXT_PUBLIC_ keys. Missing:",d())),null):i=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)({apiKey:"AIzaSyBVxbbtB8yqSycBKbVs4HpORCc69nexI8c",authDomain:"glyph-hub-5000.firebaseapp.com",projectId:"glyph-hub-5000",storageBucket:"glyph-hub-5000.firebasestorage.app",messagingSenderId:"58219751174",appId:"1:58219751174:web:18337f5441f6cf1f06a087",measurementId:"G-N4T4Z5ZTL6"}))}function h(){let e=p();if(!e)return null;if(c)return c;try{c=(0,r.xI)(e)}catch(t){c=(0,r.Nu)(e,{persistence:[r.Gt,r.F0,r.iM]})}return c}function b(){let e=p();if(!e)return null;try{return(0,s._A)(e,{localCache:(0,s.vK)({tabManager:(0,s.K7)()})})}catch(t){return(0,s.aU)(e)}}function m(){let e=p();return e?(0,n.c7)(e):null}},7505:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>o});var a=l(5155),r=l(4585),s=l(9708),n=l(9996),i=l(2553),c=l(2115);function o(){let[e,t]=(0,c.useState)("Idle"),[l,o]=(0,c.useState)(null);async function u(){t("Seeding..."),o(null);try{let a=(0,r.Cy)(),c=(0,r.Lf)(),o=(0,r.c7)();if(!a||!c||!o)throw Error("Firebase not configured");try{await (0,i.x9)(a,"demo@glyphhub.local","glyphhub-demo")}catch(e){await (0,i.eJ)(a,"demo@glyphhub.local","glyphhub-demo")}let u=(0,n.KR)(o,"seed/hello.txt");await (0,n.ls)(u,"Hello GlyphHub!");let d=await (0,n.qk)(u);for(let t of[{id:"welcome-1",title:"Welcome to GlyphHub",body:"Try creating your first prompt on the /new page.",tags:["welcome"],sourceUrl:d,visibility:"public"},{id:"howto-1",title:"How to: Share Code",body:"Use the Copy Share Code button on a prompt detail page.",tags:["howto"],sourceUrl:null,visibility:"public"}]){var e,l;let r=(0,s.H9)((0,s.rJ)(c,"prompts"),t.id);await (0,s.BN)(r,{...t,ownerId:null!=(l=null==(e=a.currentUser)?void 0:e.uid)?l:"demo",checksum:"seed",stats:{views:0,copies:0,likes:0},createdAt:(0,s.O5)(),updatedAt:(0,s.O5)()})}t("Seeding complete")}catch(e){o(e instanceof Error?e.message:"Seed failed"),t("Failed")}}return(0,a.jsxs)("div",{className:"mx-auto max-w-[640px] py-10",children:[(0,a.jsx)("h1",{className:"font-display text-2xl mb-4",children:"Dev Seed"}),(0,a.jsx)("p",{className:"text-sm text-[var(--gh-text-dim)] mb-4",children:"Creates a demo user and adds sample prompts + uploads a small file to Storage."}),(0,a.jsx)("button",{onClick:u,className:"rounded-[12px] px-4 py-2 text-sm bg-[var(--gh-cyan)] text-black",children:"Run seed"}),(0,a.jsxs)("div",{className:"mt-4 text-sm",children:[(0,a.jsxs)("div",{children:["Status: ",e]}),l&&(0,a.jsx)("div",{className:"text-red-400",children:l})]})]})}},8368:(e,t,l)=>{Promise.resolve().then(l.bind(l,7505))}},e=>{e.O(0,[135,965,31,441,255,358],()=>e(e.s=8368)),_N_E=e.O()}]);