(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[334],{63:(e,t,s)=>{"use strict";var r=s(7260);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},2909:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(5155),a=s(2115),l=s(4585),n=s(9708),i=s(2619),c=s.n(i),u=s(63);function d(e){let t=e.stats||{};return 3*(t.likes||0)+2*(t.copies||0)+(t.views||0)}function o(){let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)(null),o=(0,u.useRouter)();(0,a.useEffect)(()=>{!async function(){try{let e=(0,l.Lf)();if(!e)return;let s=(await (0,n.GG)((0,n.P)((0,n.rJ)(e,"prompts"),(0,n._M)("visibility","==","public")))).docs.map(e=>({id:e.id,...e.data()}));t(s),s.slice(0,9).forEach(e=>o.prefetch("/p/".concat(e.id)))}catch(e){i(e instanceof Error?e.message:"Failed to load trending")}}()},[o]);let p=(0,a.useMemo)(()=>e.slice().sort((e,t)=>d(t)-d(e)),[e]);return(0,r.jsxs)("div",{className:"mx-auto max-w-[900px] py-8",children:[(0,r.jsx)("h1",{className:"font-display text-2xl mb-4",children:"Trending"}),s&&(0,r.jsx)("p",{className:"text-sm text-red-400 mb-2",children:s}),(0,r.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[p.map(e=>{var t,s,a;return(0,r.jsxs)(c(),{href:"/p/".concat(e.id),className:"group rounded-[16px] bg-[var(--gh-surface)] border border-[var(--gh-border)] p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"font-display text-lg",children:e.title}),(0,r.jsx)("span",{className:"text-xs text-[var(--gh-text-muted)]",children:d(e)})]}),(0,r.jsx)("p",{className:"text-[var(--gh-text-dim)] text-sm line-clamp-3 mt-2",children:e.body}),(0,r.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:(e.tags||[]).map(e=>(0,r.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full bg-[var(--gh-bg-soft)] border border-[var(--gh-border)] text-[var(--gh-text-muted)]",children:["#",e]},e))}),(0,r.jsxs)("div",{className:"mt-3 text-xs text-[var(--gh-text-muted)]",children:[(null==(t=e.stats)?void 0:t.likes)||0," likes \xb7 ",(null==(s=e.stats)?void 0:s.copies)||0," copies \xb7 ",(null==(a=e.stats)?void 0:a.views)||0," views"]})]},e.id)}),0===p.length&&(0,r.jsx)("div",{className:"text-sm text-[var(--gh-text-muted)]",children:"No public prompts yet."})]})]})}},4585:(e,t,s)=>{"use strict";s.d(t,{Cy:()=>p,Lf:()=>h});var r=s(2078),a=s(2553),l=s(9708);s(9996);let n=null,i=null,c=!1,u={NEXT_PUBLIC_FIREBASE_API_KEY:"AIzaSyBVxbbtB8yqSycBKbVs4HpORCc69nexI8c",NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN:"glyph-hub-5000.firebaseapp.com",NEXT_PUBLIC_FIREBASE_PROJECT_ID:"glyph-hub-5000",NEXT_PUBLIC_FIREBASE_APP_ID:"1:58219751174:web:18337f5441f6cf1f06a087"};function d(){return Object.entries(u).filter(e=>{let[,t]=e;return!t}).map(e=>{let[t]=e;return t})}function o(){return n||(0!==d().length?(c||(c=!0,console.warn("[firebase] Missing Firebase env vars. Add web/.env.local with NEXT_PUBLIC_ keys. Missing:",d())),null):n=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyBVxbbtB8yqSycBKbVs4HpORCc69nexI8c",authDomain:"glyph-hub-5000.firebaseapp.com",projectId:"glyph-hub-5000",storageBucket:"glyph-hub-5000.firebasestorage.app",messagingSenderId:"58219751174",appId:"1:58219751174:web:18337f5441f6cf1f06a087",measurementId:"G-N4T4Z5ZTL6"}))}function p(){let e=o();if(!e)return null;if(i)return i;try{i=(0,a.xI)(e)}catch(t){i=(0,a.Nu)(e,{persistence:[a.Gt,a.F0,a.iM]})}return i}function h(){let e=o();if(!e)return null;try{return(0,l._A)(e,{localCache:(0,l.vK)({tabManager:(0,l.K7)()})})}catch(t){return(0,l.aU)(e)}}},9874:(e,t,s)=>{Promise.resolve().then(s.bind(s,2909))}},e=>{e.O(0,[135,965,31,619,441,255,358],()=>e(e.s=9874)),_N_E=e.O()}]);