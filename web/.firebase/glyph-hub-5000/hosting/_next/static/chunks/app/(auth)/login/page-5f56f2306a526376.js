(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72],{4423:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var a=n(5155),r=n(2115),s=n(7886);function i(){let[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[l,u]=(0,r.useState)(null),[o,c]=(0,r.useState)(!1);async function d(){c(!0),u(null);try{await (0,s.mu)(e,n)}catch(e){u(e instanceof Error?e.message:"Failed to sign in")}finally{c(!1)}}async function p(){c(!0),u(null);try{await (0,s.NE)(e,n)}catch(e){u(e instanceof Error?e.message:"Failed to register")}finally{c(!1)}}return(0,a.jsxs)("div",{className:"mx-auto max-w-[420px] py-10",children:[(0,a.jsx)("h1",{className:"font-display text-2xl mb-6",children:"Sign in"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("input",{type:"email",placeholder:"Email",value:e,onChange:e=>t(e.target.value),className:"w-full rounded-[12px] bg-[var(--gh-surface)] border border-[var(--gh-border)] px-3 py-2 text-sm"}),(0,a.jsx)("input",{type:"password",placeholder:"Password",value:n,onChange:e=>i(e.target.value),className:"w-full rounded-[12px] bg-[var(--gh-surface)] border border-[var(--gh-border)] px-3 py-2 text-sm"}),l&&(0,a.jsx)("p",{className:"text-sm text-red-400",children:l}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:d,disabled:o,className:"rounded-[12px] px-3 py-2 text-sm bg-[var(--gh-cyan)] text-black",children:o?"...":"Sign in"}),(0,a.jsx)("button",{onClick:p,disabled:o,className:"rounded-[12px] px-3 py-2 text-sm border border-[var(--gh-border)]",children:"Create account"})]})]})]})}},4585:(e,t,n)=>{"use strict";n.d(t,{Cy:()=>h,Lf:()=>f,c7:()=>b});var a=n(2078),r=n(2553),s=n(9708),i=n(9996);let l=null,u=null,o=!1,c={NEXT_PUBLIC_FIREBASE_API_KEY:"AIzaSyBVxbbtB8yqSycBKbVs4HpORCc69nexI8c",NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN:"glyph-hub-5000.firebaseapp.com",NEXT_PUBLIC_FIREBASE_PROJECT_ID:"glyph-hub-5000",NEXT_PUBLIC_FIREBASE_APP_ID:"1:58219751174:web:18337f5441f6cf1f06a087"};function d(){return Object.entries(c).filter(e=>{let[,t]=e;return!t}).map(e=>{let[t]=e;return t})}function p(){return l||(0!==d().length?(o||(o=!0,console.warn("[firebase] Missing Firebase env vars. Add web/.env.local with NEXT_PUBLIC_ keys. Missing:",d())),null):l=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)({apiKey:"AIzaSyBVxbbtB8yqSycBKbVs4HpORCc69nexI8c",authDomain:"glyph-hub-5000.firebaseapp.com",projectId:"glyph-hub-5000",storageBucket:"glyph-hub-5000.firebasestorage.app",messagingSenderId:"58219751174",appId:"1:58219751174:web:18337f5441f6cf1f06a087",measurementId:"G-N4T4Z5ZTL6"}))}function h(){let e=p();if(!e)return null;if(u)return u;try{u=(0,r.xI)(e)}catch(t){u=(0,r.Nu)(e,{persistence:[r.Gt,r.F0,r.iM]})}return u}function f(){let e=p();if(!e)return null;try{return(0,s._A)(e,{localCache:(0,s.vK)({tabManager:(0,s.K7)()})})}catch(t){return(0,s.aU)(e)}}function b(){let e=p();return e?(0,i.c7)(e):null}},7886:(e,t,n)=>{"use strict";n.d(t,{CI:()=>o,NE:()=>l,XC:()=>c,mu:()=>u});var a=n(4585),r=n(2553),s=n(9708);async function i(e){let t=(0,a.Lf)();if(!t)return;let n=(0,s.H9)(t,"users",e.uid);(await (0,s.x7)(n)).exists()||await (0,s.BN)(n,{displayName:e.displayName||"",photoURL:e.photoURL||"",emailLower:(e.email||"").toLowerCase(),bio:"",createdAt:(0,s.O5)(),promptCount:0,likeCount:0})}async function l(e,t){let n=(0,a.Cy)();if(!n)throw console.warn("[auth] registerWithEmailPassword: no auth instance; possibly missing env"),Error("Firebase is not configured. Add .env.local");let s=await (0,r.eJ)(n,e,t);return await i(s.user),s.user}async function u(e,t){let n=(0,a.Cy)();if(!n)throw console.warn("[auth] signInWithEmailPassword: no auth instance; possibly missing env"),Error("Firebase is not configured. Add .env.local");let s=await (0,r.x9)(n,e,t);return await i(s.user),s.user}async function o(){let e=(0,a.Cy)();if(!e)return void console.debug("[auth] signOut: no auth instance; ignoring");await (0,r.CI)(e)}async function c(){let e=(0,a.Cy)();if(!e)return null;if(e.currentUser)return e.currentUser;try{return(await (0,r.zK)(e)).user}catch(e){return console.warn("[auth] Anonymous sign-in failed. Enable Anonymous provider in Firebase console.",e),null}}},8038:(e,t,n)=>{Promise.resolve().then(n.bind(n,4423))}},e=>{e.O(0,[135,965,31,441,255,358],()=>e(e.s=8038)),_N_E=e.O()}]);